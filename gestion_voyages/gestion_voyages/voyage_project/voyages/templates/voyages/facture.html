{% extends 'base.html' %}
{% block content %}
<div class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-lg border border-gray-200">
  <h2 class="text-3xl font-extrabold text-center text-purple-800 mb-6">Facture de réservation</h2>

  <div class="space-y-3 text-gray-800 text-lg">
    <p><span class="font-semibold">Circuit :</span> {{ reservation.depart.circuit.titre }}</p>
    <p><span class="font-semibold">Date de départ :</span> {{ reservation.depart.date_depart|date:"d/m/Y" }}</p>
    <p><span class="font-semibold">Nombre de voyageurs :</span> {{ reservation.nombre_voyageurs }}</p>
    <p><span class="font-semibold">Total :</span> <span class="text-green-700 font-bold">{{ reservation.total }} DH</span></p>
  </div>

  <h4 class="mt-8 mb-4 text-xl font-semibold text-gray-900 border-b border-gray-300 pb-2">Paiements effectués :</h4>
  <ul class="list-disc list-inside text-gray-700 space-y-2">
    {% for p in paiements %}
      <li>
        <span class="font-mono text-sm text-gray-500">{{ p.date_paiement|date:"d/m/Y H:i" }}</span> -
        <span class="font-semibold">{{ p.montant }} DH</span> -
        <span>{{ p.get_mode_display }}</span>
        {% if p.acompte %}
          <span class="ml-2 inline-block bg-yellow-200 text-yellow-800 text-xs font-semibold px-2 py-0.5 rounded">Acompte</span>
        {% endif %}
      </li>
    {% empty %}
      <li class="italic text-gray-500">Aucun paiement enregistré.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
